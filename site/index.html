<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Login</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="lib/css/bootstrap.min.css" >
    <link rel="stylesheet" href="lib/css/font-awesome.min.css" >

  </head>
  <body>
    <div class="container">

        <div class="row text-center">
            <div class="col-sm-12 col-xs-12">
                <h1>Login</h1>
                <form class="form form-inline" role="form"  method="post" onsubmit=" return login()">
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-user"></i></span>
                      <input type="text" class="form-control" placeholder="Username" name="user" id="user" required autofocus>
                  </div><br/><br/>

                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-key"></i></span>
                      <input type="password" class="form-control" placeholder="Password" name="pass" id="pass" required>
                  </div><br/><br/>
                  <div class="alert alert-danger " style="display:none;" role="alert" id="error" >Invalid Login Credentials</div>
                    <button class="btn btn-primary" type="submit" >Log In <i class="fa fa-sign-in"></i></button>
                </form>
            </div>
        </div>
    </div>

    <script src="lib/js/jquery.min.js"></script>
    <script src="lib/js/bootstrap.min.js" ></script>
    <script type="text/javascript">
    function login() {
        $.post("/login/",{username:$("#user").val(),password:$("#pass").val()})
        .done(function(data){
            if(data=="True")
                window.location.pathname="/user/"+$("#user").val();
            else
                $("#error").show();
        })
        .fail(function(data,status,error){
            alert("Server Error");
        });

        return false;
    }

    </script>
  </body>
</html>
